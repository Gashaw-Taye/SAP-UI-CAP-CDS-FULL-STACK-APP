<!-- Student.view.xml -->
<mvc:View
 controllerName="miniproject.controller.Student"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m" 
  xmlns:form="sap.ui.layout.form" 
  xmlns:core="sap.ui.core"
  xmlns:f="sap.f"
>
        <App id="app">
            <pages>
                <Page id="page" title="student list">
  	<!-- <f:DynamicPage headerExpanded="{/headerExpanded}"> -->
    <f:DynamicPage headerExpanded="{editModel>/headerExpanded}">
  <!-- <Page title="Student List Report"> -->
 
		
      <f:content>
    <!-- Your Student Page Content Here -->
    <!-- <Table id="table0" items="{Students>/Students}"  mode="SingleSelectLeft" selectionChange="onSelect"> -->
	<Table
        id="table0"
        mode="SingleSelectLeft" 
        selectionChange="onSelect"
        inset="false"

        
        items="{Students>/Students}"
      >
     <headerToolbar>
                                <OverflowToolbar>
                                    <content>
                                        <ToolbarSpacer />
                                         <SearchField id="searchField" width="20%" placeholder="Search" liveChange=".onSearch" />
                                        <!-- <SearchField id="searchField" width="20%" placeholder="search" search=".onSearch" /> -->
                                        <Button id="createButton" icon="sap-icon://add" tooltip="Create" visible="true" press="onOpenAddDialog">
                                            <layoutData>
                                                <OverflowToolbarLayoutData priority="NeverOverflow" />
                                            </layoutData>
                                        </Button>
                                      

                                         <!-- <Button id="saveButton" text="Save" type="Emphasized" visible="false" enabled="true" press="onSave" />
                                        <Button id="editModeButton" visible="true" icon="sap-icon://edit" tooltip="Edit" press="onEditMode">
                                            <layoutData>
                                                <OverflowToolbarLayoutData priority="NeverOverflow" />
                                            </layoutData>
                                        </Button>  -->

                                    </content>
                                    <dependents>
                                        <Dialog id="OpenDialog" title="Register student">
                                            <buttons>
                                                <Button id="confirmCreate" text="Create" press="onCreate" type="Emphasized" />
                                                <Button id="cancelCreate" text="Cancel" press="onCancelDialog" type="Transparent" />
                                            </buttons>
                                            <form:SimpleForm editable="true" layout="ResponsiveGridLayout">
                                                <form:content>                                                
                                                    <Label text="Full Name"  />
                                                    <Input id="Full_name" change="onNameChange"/>
                                                    <Label text="Gender" />
                                                    <Select id="Gender" selectedKey="{Gender}">
                                                    <items>
                                                        <core:Item text="Select Gender" key=""/>
                                                        <core:Item text="Male" key="Male"/>
                                                        <core:Item text="Female" key="female"/>
                                                    </items>
                                                  </Select>
                                                    <Label text="Office" />
                                                     <Input id="Office"  />
                                                    <Label text="Advisor_ID" />
                                                    <Input id="Advisor_ID"  />
                                                    <DatePicker id ="Planned_study_date"  />                                                
                                                </form:content>
                                            </form:SimpleForm>
                                        </Dialog>
                                    </dependents>
                                        <dependents>
                                           <Dialog id="studentDetailModal" title="Student Details -" binding="{editModel>/Students}">
                                            <buttons>
                                                <Button id="confirmCreateDetail" text="Update" press=".onUpdate" type="Emphasized" />
                                                <Button id="cancelCreateDetail" text="Cancel" press="onCancelDialog" type="Transparent" />
                                            </buttons>
                                            <form:SimpleForm editable="true" layout="ResponsiveGridLayout">
                                                <form:content>
                                                    <!-- <Label text="Student DB ID" required="true" />
                                                    <Input id="ID" change="onNameChange" /> -->
                                                    <Input id="ID_edit" visible="false"   value="{editModel>/ID_edit}"/> 
                                                    <Label text="Full Name" />
                                                    <Input id="Full_name_edit" value="{editModel>/Full_name_edit}"/>
                                                    <Label text="Office" />
                                                    <Input id="Office_edit"  value="{editModel>/Office_edit}" />
                                                    <Label text="Advisor" />
                                                    <Input id="Advisor_edit"   value="{editModel>/Advisor_edit}"/>
                                                    <Label text="Gender" />
                                                    <Input id="Gender_edit"   value="{editModel>/Gender_edit}"/>
                                                    <Label text="Planned Study Date" />
                                                    <!-- <Input type="date" id="Planned_study_date"  /> -->
                                                      <!-- <DatePicker id="Planned_study_date_edit" value="{modelName>/Planned_study_date_edit}" /> -->
                                                    <DatePicker id="Planned_study_date_edit" value="editModel>{/Planned_study_date_edit}" />


                                                </form:content>
                                            </form:SimpleForm>
                                        </Dialog>
                                    </dependents>

                                </OverflowToolbar>
                            </headerToolbar>
      <!-- Columns definition -->
      <columns>
        <!-- Add columns based on your entity properties -->
         <Column minScreenWidth="Tablet" demandPopin="true">
          <header>
          <Text text="Student ID" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
         <header>
          <Text text="Full Name" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true"> 
         <header>
          <Text text="Gender" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
         <header>
          <Text text="Office" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
         <header>
          <Text text="Advisor_ID" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
         <header>
          <Text text="Created_at" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
         <header>
          <Text text="Planned_study_date" />
           </header>
        </Column>
        <Column minScreenWidth="Tablet" demandPopin="true">
        <header>
            <Text text="Actions" />
        </header>
    </Column>

       
      </columns>
      <!-- Items definition -->
      <items>
        <ColumnListItem type="Active" id="item0" vAlign="Middle">
          <cells>    
             
           <Text id="id1" text="{Students>ID}" />
            <Text id="id2" text="{Students>Full_name}" />
            <Text id="id3" text="{Students>Gender}" />
            <Text id="id4" text="{Students>Office}" />
            <Text id="id5" text="{Students>Advisor_ID}" />
            <Text id="id8" text="{Students>Created_at}" />
            <Text id="id7" text="{Students>Planned_study_date}" />
            <HBox>
                <Button id="id6" icon="sap-icon://edit" press="onOpenDetailDialog"/>
                <Button id="deleteButton" icon="sap-icon://delete" tooltip="Delete" visible="true" press="confirm">
                  <layoutData>
                    <OverflowToolbarLayoutData priority="NeverOverflow" />
                  </layoutData>
                </Button>
              </HBox>                                      
          
          </cells>
        </ColumnListItem>
      </items>
    </Table>

  	</f:content>
 	<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button type="Accept" text="Accept"/>
				<Button type="Reject" text="Reject"/>
			</OverflowToolbar>
		</f:footer>
		</f:DynamicPage>
      </Page>
            </pages>
        </App>
</mvc:View>
